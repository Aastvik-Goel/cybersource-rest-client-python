name: 'Generate the Report'
description: 'Generates the report using the output.log file'
runs:
  using: 'composite'
  steps:
    - name: Setup Python v3.12 for report generation only
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Installing required python libraries and running the python programs to generate pdf report
      run : |
        python --version
        pwd
        ls
        # echo $VIRTUAL_ENV
        # echo "Before Running Report Generation"
        # echo "PWD" 
        # pwd
        # cd $SAMPLE_FOLDER
        # python -m pip install --upgrade pip
        # pip install json2html
        # pip install xhtml2pdf
        # pip install bs4
        # cd Validation
        # python sample_code_log_processor.py -l ../../$SAMPLE_FOLDER/output.log -o ../../$SAMPLE_FOLDER/python_actual_results.json
        # python response_code_validator.py -e ExpectedResults/python_expected_results.json -a ../../$SAMPLE_FOLDER/python_actual_results.json -o python_validation_results.json
        # python json_to_prettified_html.py -i python_validation_results.json -o python_validation_results.html
        # cp python_validation_results.pdf ../  #copying the file to flaatten the directory of the upload artifact,Github Actions doesn't support that as of jun 2024
      shell: bash